{"posts":[{"title":"SQL之SQLServer存储过程简单样例(Updating)","content":"--带参存储过程 if (object_id('proc_find_stu', 'P') is not null) drop proc proc_find_stu go create proc proc_find_stu(@startId int, @endId int) as select * from student where id between @startId and @endId go exec proc_find_stu 2, 4; --创建存储过程 if (exists (select * from sys.objects where name = 'proc_get_student')) drop proc proc_get_student go create proc proc_get_student as select * from student; --调用、执行存储过程 exec proc_get_student; --带通配符参数存储过程 if (object_id('proc_findStudentByName', 'P') is not null) drop proc proc_findStudentByName go create proc proc_findStudentByName(@name varchar(20) = '%j%', @nextName varchar(20) = '%') as select * from student where name like @name and name like @nextName; go exec proc_findStudentByName; exec proc_findStudentByName '%o%', 't%'; -- 输出参数的存储过程 if (object_id('proc_getStudentRecord', 'P') is not null) drop proc proc_getStudentRecord go create proc proc_getStudentRecord( @id int, --默认输入参数 @name varchar(20) out, --输出参数 @age varchar(20) output--输入输出参数 ) as select @name = name, @age = age from student where id = @id and sex = @age; go -- declare @id int, @name varchar(20), @temp varchar(20); set @id = 7; set @temp = 1; exec proc_getStudentRecord @id, @name out, @temp output; select @name, @temp; print @name + '#' + @temp; -- 不缓存的存储过程 --WITH RECOMPILE 不缓存 if (object_id('proc_temp', 'P') is not null) drop proc proc_temp go create proc proc_temp with recompile as select * from student; go exec proc_temp; --加密WITH ENCRYPTION if (object_id('proc_temp_encryption', 'P') is not null) drop proc proc_temp_encryption go create proc proc_temp_encryption with encryption as select * from student; go exec proc_temp_encryption; exec sp_helptext 'proc_temp'; exec sp_helptext 'proc_temp_encryption'; 在前面介绍游标的例子中，SELECT语句都没有WHERE子句，或者用WHERE子句指定了一个固定的条件，这样每次都查询同样的数据。在更多的情况下，可能要根据实际情况查询不同的数据。为了通过游标对数据进行更加灵活的处理，可以为游标定义参数，这些参数可以用在WHERE子句中。在打开游标时，指定实际的参数值，这样游标在每次打开时，可以根据不同的实际参数值，返回所需的不同数据。 -- 带游标参数的存储过程 if (object_id('proc_cursor', 'P') is not null) drop proc proc_cursor go create proc proc_cursor @cur cursor varying output as set @cur = cursor forward_only static for select id, name, age from student; open @cur; go --调用 declare @exec_cur cursor; declare @id int, @name varchar(20), @age int; exec proc_cursor @cur = @exec_cur output;--调用存储过程 fetch next from @exec_cur into @id, @name, @age; while (@@fetch_status = 0) begin fetch next from @exec_cur into @id, @name, @age; print 'id: ' + convert(varchar, @id) + ', name: ' + @name + ', age: ' + convert(char, @age); end close @exec_cur; deallocate @exec_cur;--删除游标 ---存储过程、row_number完成分页 if (object_id('pro_page', 'P') is not null) drop proc proc_cursor go create proc pro_page @startIndex int, @endIndex int as select count(*) from product ; select * from ( select row_number() over(order by pid) as rowId, * from product ) temp where temp.rowId between @startIndex and @endIndex go drop proc pro_page exec pro_page 1, 4 -- --分页存储过程 if (object_id('pro_page', 'P') is not null) drop proc pro_stu go create procedure pro_stu( @pageIndex int, @pageSize int ) as declare @startRow int, @endRow int set @startRow = (@pageIndex - 1) * @pageSize +1 set @endRow = @startRow + @pageSize -1 select * from ( select *, row_number() over (order by id asc) as number from student ) t where t.number between @startRow and @endRow; exec pro_stu 2, 2; SQL Server 修改存储过程 如果需要修改现有的存储过程，只需更换掉 CREATE ，使用 ALTER。 我们在 “Latest” 和 “Tasks”间添加一个空格（即“Latest Tasks”），并添加描述字段，如下 ALTER PROCEDURE LatestTasks @Count int AS SET ROWCOUNT @Count SELECT TaskName AS &quot;Latest Tasks&quot;, Description, DateCreated FROM Tasks ORDER BY DateCreated DESC ","link":"https://blog.os0day.cn/post/sql001/"},{"title":"提高执行力的学习之剖析个人问题和思考提高执行力的方法","content":"正式踏入职场工作的萌新，这正式工作的半年当中我在导师以及身边的同事的帮助和引导下，在软件开发的领域有取得一些进步，在进步的同时也发现了自身存在诸多方面的问题。面对这些问题，我尝试过去改正， 但是改正的结果却总是差强人意，我也一时间也难以搞明白是什么原因造成的，片面的归结于是个人经验所限造成的。随着工作时间的延长，我逐渐意识到一点“盲目与片面以及思想上的混乱、行动上的无序”才是这一切问题发生的根源。 简单来说，就是缺乏指导自己前行的科学方式、方法。 一、发现自身问题是进步的关键 在《华为执行力》这边书当中有罗列了很多的案例以及对应的方式方法，这些都是他们华为人的经验所得，但是是否 适合自己，这是首先要去怀疑的。我个人认为只有结合自己的情况，加以改进适配的方案才是最优的。 个人所存在的问题: （一）存在很多错误的观念 1、没有以结果未导向，片面重视做的过程。 在实际的工作当中，企业更为侧重的工作结果，而非校园当中那样去侧重学习与研究即使是没有任何收获也没有关系。 2、没有从考虑可以带来多少实际生产力来考虑新知识的学习。 在校园当中是比较发散的，可以学习任何自己所感兴趣的，可以进行深度的学习，也可以粗略的学习；而对于企业来说学习是具有较强的针对性的，高度需要对某些领域有深入的研究，并带到实际的工作当中去转换为实际的生产力，要有 实际的产出，奉行高度的实用主义。 3、没有重视团队协作。 在企业当中奉行的是团队主义，大家一起沟通协作力求可以快速且保质保量的完成工作。而在 校园当中，团队协作的观念培养，我是比较不重视的，经常自己学习、自己处理遇到的难题，也就早就了我比较“个人主义”的问题。在面对问题 的时候我往往是先思考自己要怎么去解决，经过冥思苦想来得到解决方案，如果没有得到解决方案才会对外向老师或者专业里更为优秀的同学请 教，奉行“自己解决的才是自己的”思想观念，然而，实际的工作确是与之想反的，企业需要的 是团队主义，大家在一起工作就是为了更快、更好的完成工作。团队当中一般都有积累了很多的解决方案，或者，团队当中存在工作经验比较丰富的大牛，在遇到问题可以提供一个较为优质的建议，甚至是好的解决方案，这个时候就可以 给工作的推进带来极大的帮助，从而避免重复造“轮子的问题”。 4、没有严谨的论证思维，对于自己的推理没有经过验证就觉得合理可行，实际上却是漏洞百出而不察。更多的时候，我都是通过主观臆断的方式，来看待所面对的问题，看待的场景片面化，理论依据的立足点没有经过验证 就以此为论据，最好出现与所想不同的问题，导致需要重新花时间去分析问题处理问题，做了很多的无用功。论证思维培养是需要多学习科学研究的分析方式方法以及 多请教前辈同事，来丰富自己的分析与论证问题的经验，不断增加自己 考虑与分析问题的维度。 5、存在“想当然”的情况。 没有确认什么是完成的标准，就盲目认为任务完成了，业务需求没有反复确定自己理解的是否是正确的，就想当然认为自己明白了，最后做出来偏差了，验证的时候出现问题了，才不得不去重新论证与改造；任务相当然的认为做完就好，没有去总结“怎么样才是做好、怎么做可以更好、如何做可以效率更高，等等”，做到快完成 的时候，就相当地认为差不多了，没有验证就认为好了，出问题了，又不得不再次返工，既没有效率又没有质量，还破坏了团队对自己的信任。 6、没有意识的去规划自己的时间，没有结合工作任务的优先级来分配工作任务，忽视了每项工作完成时间的控制。 （二）专业能力提高上没有明确的规划 1、没有有意识去积累解决方案：如，表设计、如何将业务逻辑抽象出来，实现复用、架构如何设计。 2、没有去制定有效且系统的训练与长期学习计划 3、业务梳理上缺少对业务快速理解和应用的策略。 4、分析问题（数据、代码设计与审计、表结构设计与审计、业务关联与分析，等） 5、问题定位（复现以及快速修复） 二、在结合自身情况的基础上总结合适的改进方案推动进步 在上述的问题当中，我将问题归类为两类：1、错误的观念；2、没有明确的规划。对于我个人来说，要想有明显的进步，就必须着手将这两大问题解决。 （一）错误的观念改如何有效纠正 观念可以说是行为习惯，伴随着自身比较久的，需要有意识的去做问题的规避，才能有效的纠正。通过笼统的方式来纠正行为习惯上的问题是行不通的，个人认为需要通过流程化的方式来规范自己的日常工作，让行为习惯在养成规范化的工作方式的同时，完成对自身行为习惯的纠正。 在《华为执行力》书中，第65页“养成规范化的工作习惯”，恰好与我的观点想契合。规范化的工作习惯是为了规避个人行为习惯、错误观念对工作效率的影响，同时，实现对工作进行有效的监控，让工作可以高效的完成。书中列举了，华为的秩序化工作法则，该法则让华为的员工养成了秩序化工作的好习惯，但是，在执行的过程中，容易出现员工将个人的思想观念或者个人习惯带入到工作任务当中的问题，人为的改变了工作标准，按照自身的思路去做事情，然后，导致工作偏离了正确的轨道；为了解决该问题，华为对员工的要求是：严格按照工作流程标准进行，并对各个关键节点的执行情况进行监控，以确保工作任务是按照计划开展的，并以此为基础再进一步提高效率。 秩序化工作法则的核心在于用详细的操作流程规范化工作、用严谨科学的操作方案来减少执行上的问题。我的工作是软件开发，那么我该围绕着什么来制定自己的工作规范呢？软件开发是围绕的业务需求展开，将业务需求抽象为代码逻辑，工作的要点在于个人要完成分配的工作，同时，也需要配合同事推动团队的工作计划。针对于此，我想对于我来说工作规范化的要点在于：如何梳理业务需求与确认需求、业务需求转化为代码逻辑所需要的注意的点（代码逻辑实现的效果是否和业务需求一致）、如何高效的完成个人工作以及配合团队推动工作计划、如何及时反馈工作中遇到的问题（个人工作是团队工作推进的一个节点，节点堵塞，势必会影响到整体工作的推进）。 制定自己的规范化工作流程（在后续工作当中不断完善）： 梳理需求与确认需求（在工作开展前就保证工作方向是正确，避免返工的问题） 将需求梳理好之后，将自己的对需求的理解，以文字的形式（文字也是对需求的二次梳理以便于加强自己对业务的理解） 反馈给需求提供方，以确保自己的理解是没有错误的，如果有错误也能及时纠正。 将业务需求转化为正确的代码逻辑 通过思维导图的方式，将所要做工作点进行罗列，对数据实体关系进行分析，用切合业务场景的方案来处理，将自己的整理出来的工作方案和同事进行交流，已确保设计思路实现的效果可以满足业务需求，同时，又可以保留有一定的兼容性，以便于后续功能的扩展。 提早与同事交流沟通好，确定需要配合的点，以确保工作对接可以顺利进行。 确定工作完成的标准，以及需要达到的效果，不能模棱两可。 工作具体要完成哪些东西才算是完成：业务需求是否满足、配合其他同事需要的设计是否做了，罗列的工作点是否都完成了，等； 分析与验证的时候，要明确目的，以及预期的结果，还有验证的标准。 对工作的时间要进行把控，减少不必要的时间浪费。 耗时较长没有解决工作问题的情况，就需要及时反馈，该请教问题就去请教问题，该反馈问题就反馈问题，力求将影响工作进度的情况尽早扼杀在摇篮当中。 个人工作完成后，进行检查和复盘以确保工作完成的质量，做好自测验证编写的代码逻辑是否满足业务需求，是否满足同事的需要，思考工作当中存在的问题点，记录并在后续的工作当中进行改进。 （二）如何提升自身的专业水平 个人认为专业提升的有效途径可以归结为：基础训练、工作当中积累解决方案以工作之余扩充积累解决方案、学习如何有效地梳理业务以及用代码逻辑对业务进行转化、学习如何分析问题、定位问题、解决问题。 在专业提升当中可以做的事情： 基础训练 算法题目训练、常用技术栈demo、个人玩具项目 积累解决方案 从实际工作当中去记录和整理遇到的场景，整理为通用的模型； 从网络学习，学习优秀的架构设计理念以及常用的解决方案模式 业务的梳理 需要不断的加强对业务的理解，与SM、产品、同事多探讨业务上的理解问题，通过交流的方式来加深自己对业务的理解 以及将业务当中存在的理解误区找出来并纠正。 分析问题、定位问题、解决问题 问题的立足点是在于实际的业务，理解清楚业务确定好问题各个影响因素与前置条件为基础，才能将把控好问题分析的 方向，方向正确了才能有正确结论的得出。 交流是专业提升的有效途径。 社区文章输出、同事之间的专业问题的交流，等 制定的改进方案也是需要根据自己当下的实际情况来的，虽然我在上文描述了很多设想，以及思考了后续要怎么去做，但这毕竟也只是设想的，是一种理想化的场景。在现阶段下，自己是没有办法做到尽善尽美的，需要在实践当中去思考与验证。对于按照流程化的工作方法，以及专业能力提升上的计划与践行，是需要自己平时落实到具体的细节处，具体去思考怎么去做才好，需要找出最为突出的矛盾点并加以解决，而非像只是做这样大体的规划，还是应当需要将一个个小的问题处理好，避免重复犯错的情况下，去实现一个个短期目标来做支撑，并在这个过程当中培养和完善自己，才能最终才能够实现这样通过科学的、流程化的方式来提高工作或者专业学习的效率。 有所总结与领悟，同时，也要在日后的工作当中不断严格要求自己，让自己可以将改进方案扎实地落实到位，才能从根本上去解决自身的问题，并且不能急躁，需要一步一个脚印，坚持做好每一步，才会有水滴石穿之效！与诸君共勉！ ","link":"https://blog.os0day.cn/post/execution001/"},{"title":"GO之基础语法的学习一","content":"一、Demo 之常用变量类型以及函数 package main import ( &quot;fmt&quot; &quot;time&quot; ) var testNumber = 20 func main() { //var _age int = 123 var _age = 24 datetime := time.Now() fmt.Println(&quot;Hello, Go! I'm &quot;,_age,&quot;year's old&quot;,&quot;当前时间&quot;,datetime) fmt.Println(&quot;当前时间&quot;,datetime) max(12,11) } func max(num1,num2 int) { var result = num1 + num2 + testNumber //getString :=[...]string{} var getString[12] string for i := 0 ; i &lt; 10 ; i++{ result += i fmt.Println(i,&quot;测试一下循环输出&quot;) getString[i] = fmt.Sprintln(i,&quot;测试一下字符串数组的赋值&quot;) } fmt.Println(result,&quot;这个是字符串数组:&quot;,getString) fmt.Println(fmt.Sprintln(ReturnResultAndGetString(20,21)),&quot;测试一下函数的返回值&quot;) fmt.Println(&quot;测试一下函数的返回值&quot;,fmt.Sprintln(ReturnResultAndGetString(20,21)),&quot;&quot;) fmt.Println(&quot;测试返回值不同的使用方式&quot;,fmt.Sprintln(ReturnResult(20,21)),&quot;&quot;) } func ReturnResultAndGetString(num1,num2 int) (result int,getString[12] string){ result = num1 + num2 + testNumber //getString :=[...]string{} for i := 0 ; i &lt; 10 ; i++{ result += i fmt.Println(i,&quot;测试一下循环输出&quot;) getString[i] = fmt.Sprintln(i,&quot;测试一下字符串数组的赋值&quot;) } fmt.Println(result,&quot;这个是字符串数组:&quot;,getString) return } func ReturnResult(num1, num2 int) (int, [12]string) { var result = num1 + num2 + testNumber //getString :=[...]string{} var getString[12] string for i := 0 ; i &lt; 10 ; i++{ result += i fmt.Println(i,&quot;测试一下循环输出&quot;) getString[i] = fmt.Sprintln(i,&quot;测试一下字符串数组的赋值&quot;) } fmt.Println(result,&quot;这个是字符串数组:&quot;,getString) return result,getString } ","link":"https://blog.os0day.cn/post/goStudy001/"},{"title":"2021年终总结","content":"引言 时间飞快，转眼 2021 年已经过去了，我的学生生涯也已经正式结束了将近半年时间。 不得不感叹一件事情，那就是“时间飞快”，正式工作的这段时间 ，时间流逝的速度仿佛加了倍速一样，快速地在流逝着， 当我把这个感受和朋友讨论的时候，他们也是有相似的感受，都在感叹时间飞快。为何会有这样的感受呢， 我自己是把它的原因归结于工作的忙碌以及对前途的焦虑。工作的忙碌让我们没有偷闲的时间，不像是在大学校园里那样， 只要不是考试周，就有很多偷闲的时间；在校园的我们也没有去焦虑未来要如何如何，更多还是在享受大学的生活、享受那种没有拘束的快乐； 而当我们走出校园之后，生活的压力、工作的压力快速向我们压力的时候，初来乍到的我们，就像是到了一个游戏世界的新手村一样，既兴奋又充满了焦虑和紧张， 于是，笨拙的我们开始去思考如何在这样的世界生存、如何去追寻自己想要的生活。我觉得该如果生活该追寻什么、该做些什么，应该立足于自身当下。 一、 2021 年下半年所做的事情 在杭州一家知名的医疗器械科技公司工作，从事软件开发，成为一名初级的软件工程师。 在正式工作的半年当中，跌跌撞撞地学习如何成为一名专业的软件工程师。 在团队协作当中发现自己存在的问题，适应工作团队协作的模式。 二、总结自身专业上存在的问题 1）理念问题 正式的工作，让我深刻的体会到了校园所学与企业所需的深刻差异，校园中的养成的一些思想和理念与企业的思想和理念是不相同的，甚至是冲突的。 对于工作来说，企业更侧重的是工作结果，而在校园里更侧重的学习与研究带来的收获。 对于新知识的学习，在校园是比较发散的，你可以去学习任何你所感兴趣的，可以进行深度研究，也可以粗略学习，而对于企业而言，学习是具有针对性的，高度需要对某些领域有深入的研究，是需要能够转换为实际的生产力，要有实际产出，是高度的实用主义的。 协作，在校园盛行的是个人主义，而在企业则是团队主义，大家一起沟通协作来快速将工作保质保量的完成。 这个个人主义，给我的工作带来了很大的麻烦，对于，我这样一个在校园内，喜欢自己人研究工科问题的我来说，如果去解决问题，我往往最先是思考自己将如何去解决问题，若思考无解， 才是带着疑虑去请教别人问题，奉行 “自己解决的才是自己” 的思想观念，然而，实际的工作却是相反的，在企业中需要的是团队主义，大家一起工作的目的：是为了快速且高质量地完成工作， 对于，团队已经遇到过并且解决的问题，有现成的解决方案只要是符合使用场景的，变可以直接拿过来用；对于，初入团队中的我来说，我并不清楚团队到底积累了多少解决方案，同时，我又是 高度奉行个人主义的人，这样就造成了，对于开发任务中有现成解决方案的场景重复“造轮子”浪费了不必要浪费的时间，这样就直接造成了需要的开发时间增加了，甚至造成拖延整个团队的工作进度。 缺乏严谨的论证思维，对于自己的推理自己觉得合理，实际却漏洞百出而不察！ 我并不清楚，到底是自己所在校园教学环境的问题，还是，高校普遍都存在这样的问题——没有专业的实验室或者是工作室来培养学生的论证思维。 回顾校园的学习，我发现自己更多是在用主观臆断的方式来看待所面对的问题，看待场景片面化，理论依据的立足点没有验证就拿来当做依据，等等诸多问题。 随着心情做事情，认为好的情绪才有好的工作与学习状态。 实际上，这是很不成熟的想法，情绪好与坏不是不去做事情的理由。 存在想当然的情况。没有确认清楚的情况下，想当然的认为自己明白了，或者，偷懒想当然认为可以了，不用做了。 2)专业能力提高上存在的问题 开发方案积累不够 表设计、代码将同类业务抽象出来、架构设计、等等 缺少有效的针对基本功的训练计划 缺乏系统性规划的长期学习计划 缺少对业务快速理解与应用的一套策略 分析（数据、代码、表结构设计、业务关联，等等） 问题定位（复现以及如何去快速修正问题） 整理和梳理清楚所要做的事情是哪些，确定自己做这些工作所需要的工作时间是多久 信息整合、分析、决断、行动 三、新年要做的事情 继续健身 努力把工作和专业的提升做好，将自身存在的上述的种种问题解决 平衡好工作和生活，如果可以的话，去认识一位良人 ","link":"https://blog.os0day.cn/post/2021-summary/"}]}